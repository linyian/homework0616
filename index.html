<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>d3-start</title>
    <script src="https://d3js.org/d3.v3.js"></script>
    <style>
        div {
            font-size: 7px;
        }
    </style>
</head>

<body>
    <svg width="900" height="500">

  </svg>

    <script>
        d3.json("invoice-taipei.json", function(dataSet) {
            var svg = d3.select("svg");
            var fDataSet = dataSet.filter(function(d) {
                return d.amount > 10000000 && d.cid == "A" && d.date.substring(0, 6) == "2016/8";;
            });

            for (var i = 0; i < fDataSet.length; i++) {
                svg.append('rect').attr({
                    x: 5 + 10 * i,
                    y: 5,
                    width: fDataSet[i].amount / 10000000,
                    height: 7,
                    fill: 'red',
                })
            }
        });
    </script>
</body>

</html>
